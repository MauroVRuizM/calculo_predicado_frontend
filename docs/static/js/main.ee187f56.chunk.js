(this.webpackJsonpcalculo_predicado_frontend=this.webpackJsonpcalculo_predicado_frontend||[]).push([[0],{92:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(23),a=c.n(n),r=c(6),o=c(21),i=c(44),l=c(5),u="[Rule] add",j="[Rule] list",d="[Fact] add",b="[Fact] list",p="[Check] ask",O="[Check] clear",h="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,f=Object(o.b)({rule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{success:t.payload.success,msg:t.payload.msg};case j:return{rules:Object(l.a)(t.payload)};default:return e}},fact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{success:t.payload.success,msg:t.payload.msg};case b:return{facts:Object(l.a)(t.payload)};default:return e}},check:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{status:t.payload.status,response:Object(l.a)(t.payload.response)};case O:return{response:""};default:return e}}}),m=Object(o.d)(f,h(Object(o.a)(i.a))),x=c(13),g=c(4),v=c(26),N=c.n(v),C=c(45),y=c.n(C),S=c(18),E=c.n(S),w=c(7),k=c.n(w),I=c(15),A=c(16),D=c.n(A),R=function(e,t){return{type:p,payload:{status:t,response:e}}},T=c(0),L=function(){var e=Object(s.useRef)(),t=Object(r.b)(),c=Object(r.c)((function(e){return e})).check,n=c.response,a=c.status;Object(s.useEffect)((function(){200===a&&E.a.fire({position:"top-end",icon:"success",title:"Consulta Exitosa!",showConfirmButton:!1,timer:2e3,didClose:function(){e.current.play()}})}),[a,n]);var o=Object(v.useSpeechRecognition)(),i=o.transcript,u=o.listening,j=o.resetTranscript;return o.browserSupportsSpeechRecognition?Object(T.jsxs)("div",{className:"container mt-5",children:[Object(T.jsx)("div",{className:"alert alert-dismissible alert-light",children:Object(T.jsx)("h1",{children:"METAS"})}),Object(T.jsxs)("p",{children:["Microphone: ",u?"on":"off"]}),Object(T.jsx)("button",{onClick:N.a.startListening,className:"btn btn-outline-success",children:"Start"}),Object(T.jsx)("button",{onClick:function(){N.a.stopListening(),e.current.stop()},className:"btn btn-outline-danger",children:"Stop"}),Object(T.jsx)("button",{onClick:function(){j(),t({type:O})},className:"btn btn-outline-info",children:"Reset"}),Object(T.jsx)("button",{onClick:function(){if(""!==i){var e="\xbf ".concat(i," ?");t((c=e,function(){var e=Object(I.a)(k.a.mark((function e(t){var s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("https://us-central1-prolsimu.cloudfunctions.net/api/ia/checking",{message:JSON.stringify(c)},{headers:{Accept:"application/json","Content-type":"application/json"}});case 2:s=e.sent,t(R(s.data.message,s.status));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}var c},className:"btn btn-outline-warning",children:"Consultar"}),Object(T.jsx)("br",{})," ",Object(T.jsx)("br",{}),Object(T.jsx)("h5",{children:"Pregunta"}),Object(T.jsxs)("p",{children:[" ",Object(T.jsx)("strong",{children:"\xbf ".concat(i," ?")})," "]}),Object(T.jsx)("br",{}),Object(T.jsx)("h5",{children:"Respuesta"}),!!n&&n.map((function(e,t){return Object(T.jsx)("p",{children:e},t)})),Object(T.jsx)(y.a,{ref:e,text:!!n&&Object(l.a)(n).toString(),lang:"en-US",voice:"Microsoft Sabina - Spanish (Mexico)"})]}):Object(T.jsx)("span",{children:"Browser doesn't support speech recognition."})},H=c(3),M=c(14),_=function(e){return{type:b,payload:e}},P=function(e,t){return{type:d,payload:{success:e,msg:t}}},U=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})).fact,c=Object(s.useState)([{predicado:"",sujetos:[""]}]),n=Object(M.a)(c,2),a=n[0],o=n[1],i=Object(s.useState)([""]),u=Object(M.a)(i,2),j=u[0],d=u[1],b=Object(g.g)(),p=t.success,O=t.msg;p&&E.a.fire({position:"top-end",icon:"success",title:"".concat(O),showConfirmButton:!1,timer:2e3,didClose:function(){b.push("/list/facts")}});var h=function(e){var t=a.reduce((function(e,t){return e.sujetos.length>t.sujetos.length?e:t}));d([].concat(Object(l.a)(t.sujetos),[""]));var c=parseInt(e.target.id);o(a.map((function(e,t){return t===c?Object(H.a)(Object(H.a)({},e),{},{sujetos:[].concat(Object(l.a)(e.sujetos),[""])}):e})))},f=function(e){var t=parseInt(e.target.id);o(a.map((function(e,c){return c===t?Object(H.a)(Object(H.a)({},e),{},{sujetos:e.sujetos.splice(-1,1)}):e})))},m=j.map((function(e){return Object(T.jsx)("th",{scope:"col",className:"ps-3",children:"SUJETO ".concat(e+1)})})),x=a.map((function(e,t){var c=e.sujetos.map((function(c,s){return Object(T.jsx)("td",{children:Object(T.jsx)("input",{className:"form-control form-control-lg text-lowercase",type:"text",placeholder:"Sujeto",value:c,onChange:function(c){o(a.map((function(n,a){if(a===t){var r=e.sujetos;return r[s]=c.target.value.toLowerCase(),Object(H.a)(Object(H.a)({},n),{},{sujetos:r})}return n})))}})})}));return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)("div",{className:"form-group",children:Object(T.jsx)("input",{className:"form-control form-control-lg text-uppercase",type:"text",placeholder:"Predicado",value:e.predicado,onChange:function(e){return o(a.map((function(c,s){return s===t?Object(H.a)(Object(H.a)({},c),{},{predicado:e.target.value.toLocaleUpperCase()}):c})))}})})}),c,Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"btn-group p-2",role:"group",children:[Object(T.jsx)("span",{type:"button",className:"badge bg-success fs-3 py-0 px-3",id:t,onClick:h,children:"+"}),Object(T.jsx)("span",{type:"button",className:"badge bg-dark ms-1 fs-3 py-0 px-3",id:t,onClick:f,children:"-"})]})})]})}));return Object(T.jsxs)("div",{className:"container mt-5",children:[Object(T.jsx)("div",{className:"alert alert-dismissible alert-light",children:Object(T.jsx)("h1",{children:"BASE DE HECHOS"})}),Object(T.jsxs)("button",{type:"button",className:"btn btn-outline-info ms-2 mb-3",onClick:function(){o([].concat(Object(l.a)(a),[{predicado:"",sujetos:[""]}]))},children:[Object(T.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Hecho"]}),Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{className:"table-dark",children:[Object(T.jsx)("th",{scope:"col",className:"ps-3",children:"PREDICADO"}),m]})}),Object(T.jsx)("tbody",{children:x})]}),Object(T.jsxs)("button",{type:"button",className:"btn btn-outline-info",onClick:function(){e(function(e){return function(){var t=Object(I.a)(k.a.mark((function t(c){var s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.post("https://us-central1-prolsimu.cloudfunctions.net/api/fact/create",JSON.stringify(e),{headers:{Accept:"application/json","Content-type":"application/json"}});case 2:s=t.sent,c(P(s.data.success,s.data.message));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(T.jsx)("i",{className:"fas fa-file-export me-2"}),"Guardar"]})]})},B=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})).fact.facts;return Object(s.useEffect)((function(){e(function(){var e=Object(I.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://us-central1-prolsimu.cloudfunctions.net/api/fact/all");case 2:c=e.sent,t(_(c.data.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(T.jsxs)("div",{className:"container mt-5",children:[Object(T.jsx)("div",{className:"alert alert-dismissible alert-light",children:Object(T.jsx)("h1",{children:"LISTA DE HECHOS"})}),Object(T.jsxs)("table",{className:"table table-hover",children:[Object(T.jsx)("thead",{children:Object(T.jsx)("tr",{children:Object(T.jsx)("th",{scope:"col",children:"HECHOS"})})}),Object(T.jsx)("tbody",{children:!!t&&t.map((function(e){return Object(T.jsx)("tr",{className:"table-primary",children:Object(T.jsx)("td",{children:e.predicado+"("+e.sujetos.map((function(t,c){return 0===c&&e.sujetos.length>1?"".concat(t):c===e.sujetos.length-1?"".concat(t,")"):void 0}))})})}))})]})]})},J=function(){return Object(T.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)(x.b,{className:"navbar-brand",to:"/facts",children:"C\xe1lculo de Predicado"}),Object(T.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor02","aria-controls":"navbarColor02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(T.jsx)("span",{className:"navbar-toggler-icon"})}),Object(T.jsx)("div",{className:"collapse navbar-collapse",id:"navbarColor02",children:Object(T.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(T.jsxs)("li",{className:"nav-item dropdown",children:[Object(T.jsx)("h6",{className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false",children:"INGRESAR"}),Object(T.jsxs)("div",{className:"dropdown-menu",children:[Object(T.jsx)(x.b,{className:"dropdown-item",to:"/facts",children:"HECHOS"}),Object(T.jsx)(x.b,{className:"dropdown-item",to:"/rules",children:"CONOCIMIENTOS"})]})]}),Object(T.jsxs)("li",{className:"nav-item dropdown",children:[Object(T.jsx)("h6",{className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false",children:"CONSULTAR"}),Object(T.jsxs)("div",{className:"dropdown-menu",children:[Object(T.jsx)(x.b,{className:"dropdown-item",to:"/list/facts",children:"LISTA DE HECHOS"}),Object(T.jsx)(x.b,{className:"dropdown-item",to:"/list/rules",children:"LISTA DE CONOCIMIENTOS"}),Object(T.jsx)(x.b,{className:"dropdown-item",to:"/checks",children:"METAS"})]})]})]})})]})})},V=function(e){return{type:j,payload:e}},G=function(e,t){return{type:u,payload:{success:e,msg:t}}},F=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})).rule,c=t.success,n=t.msg,a=Object(s.useState)({predicado:"",sujetos:[""]}),o=Object(M.a)(a,2),i=o[0],u=o[1],j=Object(s.useState)([{predicado:"",sujetos:[""]}]),d=Object(M.a)(j,2),b=d[0],p=d[1],O=Object(s.useState)([]),h=Object(M.a)(O,2),f=h[0],m=h[1],x=Object(s.useState)([""]),v=Object(M.a)(x,2),N=v[0],C=v[1],y=Object(s.useState)([""]),S=Object(M.a)(y,2),w=S[0],A=S[1],R=Object(g.g)();c&&E.a.fire({position:"top-end",icon:"success",title:"".concat(n),showConfirmButton:!1,timer:2e3,didClose:function(){R.push("/list/rules")}});var L=function(e){var t=b.reduce((function(e,t){return e.sujetos.length>t.sujetos.length?e:t}));C([].concat(Object(l.a)(t.sujetos),[""]));var c=parseInt(e.target.id);p(b.map((function(e,t){return t===c?Object(H.a)(Object(H.a)({},e),{},{sujetos:[].concat(Object(l.a)(e.sujetos),[""])}):e})))},_=function(e){var t=parseInt(e.target.id);p(b.map((function(e,c){return c===t?Object(H.a)(Object(H.a)({},e),{},{sujetos:e.sujetos.splice(-1,1)}):e})))},P=w.map((function(e){return Object(T.jsx)("th",{scope:"col",className:"ps-3",children:"VARIABLE ".concat(e+1)},e)})),U=N.map((function(e){return Object(T.jsx)("th",{scope:"col",className:"ps-3",children:"VARIABLE ".concat(e+1)},e)})),B=i.sujetos.map((function(e,t){return Object(T.jsx)("td",{children:Object(T.jsx)("input",{className:"form-control form-control-lg text-uppercase",type:"text",placeholder:"Variable",value:e,onChange:function(e){var c=i.sujetos;c[t]=e.target.value.toLocaleUpperCase(),u(Object(H.a)(Object(H.a)({},i),{},{sujetos:c}))}},t)})})),J=b.map((function(e,t){var c=e.sujetos.map((function(c,s){return Object(T.jsx)("td",{children:Object(T.jsx)("input",{className:"form-control form-control-lg text-uppercase",type:"text",placeholder:"Variable",value:c,onChange:function(c){p(b.map((function(n,a){if(a===t){var r=e.sujetos;return r[s]=c.target.value.toLocaleUpperCase(),Object(H.a)(Object(H.a)({},n),{},{sujetos:r})}return n})))}},s)})}));return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)("div",{className:"form-group",children:Object(T.jsx)("input",{className:"form-control form-control-lg text-uppercase",type:"text",placeholder:"Predicado",value:e.predicado,onChange:function(e){return p(b.map((function(c,s){return s===t?Object(H.a)(Object(H.a)({},c),{},{predicado:e.target.value.toLocaleUpperCase()}):c})))}})})}),c,Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"btn-group p-2",role:"group",children:[Object(T.jsx)("span",{type:"button",className:"badge bg-success fs-3 py-0 px-3",id:t,onClick:L,children:"+"}),Object(T.jsx)("span",{type:"button",className:"badge bg-dark ms-1 fs-3 py-0 px-3",id:t,onClick:_,children:"-"})]})})]})})),V=f.map((function(e,t){return Object(T.jsxs)("select",{className:"form-select col me-3",id:t,defaultValue:"AND",onChange:function(e){return m(f.map((function(c,s){return s===t?e.target.value:c})))},children:[Object(T.jsx)("option",{value:"AND",children:"AND"}),Object(T.jsx)("option",{value:"OR",children:"OR"}),Object(T.jsx)("option",{value:"THEN",children:"THEN"})]},t)}));return Object(T.jsxs)("div",{className:"container mt-5",children:[Object(T.jsx)("div",{className:"alert alert-dismissible alert-light",children:Object(T.jsx)("h1",{children:"BASE DE CONOCIMIENTOS"})}),Object(T.jsx)("h2",{children:"CONCLUSI\xd3N"}),Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{className:"table-dark",children:[Object(T.jsx)("th",{scope:"col",className:"ps-3",children:"PREDICADO"}),P]})}),Object(T.jsx)("tbody",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)("div",{className:"form-group",children:Object(T.jsx)("input",{className:"form-control form-control-lg text-uppercase",type:"text",placeholder:"Predicado",value:i.predicado,onChange:function(e){return u(Object(H.a)(Object(H.a)({},i),{},{predicado:e.target.value.toLocaleUpperCase()}))}})})}),B,Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"btn-group p-2",role:"group",children:[Object(T.jsx)("span",{type:"button",className:"badge bg-success fs-3 py-0 px-3",onClick:function(){A([].concat(Object(l.a)(i.sujetos),[""])),u(Object(H.a)(Object(H.a)({},i),{},{sujetos:[].concat(Object(l.a)(i.sujetos),[""])}))},children:"+"}),Object(T.jsx)("span",{type:"button",className:"badge bg-dark ms-1 fs-3 py-0 px-3",onClick:function(){u(Object(H.a)(Object(H.a)({},i),{},{sujetos:i.sujetos.splice(-1,1)}))},children:"-"})]})})]})})]}),Object(T.jsx)("h2",{children:"CONDICIONES"}),Object(T.jsxs)("button",{type:"button",className:"btn btn-outline-info mb-3 me-2",onClick:function(){p([].concat(Object(l.a)(b),[{predicado:"",sujetos:[""]}])),m([].concat(Object(l.a)(f),["AND"]))},children:[Object(T.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Condici\xf3n"]}),Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{className:"table-dark",children:[Object(T.jsx)("th",{scope:"col",className:"ps-3",children:"PREDICADO"}),U]})}),Object(T.jsx)("tbody",{children:J})]}),Object(T.jsx)("h2",{children:"OPERADORES"}),Object(T.jsxs)("div",{className:"form-group row my-3",children:[V,Object(T.jsx)("div",{className:"col-6"})]}),Object(T.jsxs)("button",{type:"button",className:"btn btn-outline-info mb-2",onClick:function(){e(function(e){return function(){var t=Object(I.a)(k.a.mark((function t(c){var s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.post("https://us-central1-prolsimu.cloudfunctions.net/api/rule/create",JSON.stringify(e),{headers:{Accept:"application/json","Content-type":"application/json"}});case 2:s=t.sent,c(G(s.data.success,s.data.message));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({id:"",conclusion:i,condiciones:b,operadores:f}))},children:[Object(T.jsx)("i",{className:"fas fa-file-export me-2"}),"Guardar"]})]})},X=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})).rule.rules;return Object(s.useEffect)((function(){e(function(){var e=Object(I.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://us-central1-prolsimu.cloudfunctions.net/api/rule/all");case 2:c=e.sent,t(V(c.data.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(T.jsxs)("div",{className:"container mt-5",children:[Object(T.jsx)("div",{className:"alert alert-dismissible alert-light",children:Object(T.jsx)("h1",{children:"LISTA DE CONOCIMIENTOS"})}),Object(T.jsxs)("table",{className:"table table-hover",children:[Object(T.jsx)("thead",{children:Object(T.jsx)("tr",{children:Object(T.jsx)("th",{scope:"col",children:"CONOCIMIENTOS"})})}),Object(T.jsx)("tbody",{children:!!t&&t.map((function(e){return Object(T.jsx)("tr",{className:"table-primary",children:Object(T.jsx)("td",{children:"SI {"+e.condiciones.map((function(t,c){var s="";return c>0&&(s=e.operadores[c-1]),s+" "+t.predicado+"("+t.sujetos.map((function(e,c){return 0===c&&t.sujetos.length>1?"".concat(e):c===t.sujetos.length-1?"".concat(e,")"):void 0}))}))+"} ENTONCES {"+e.conclusion.predicado+"("+e.conclusion.sujetos.map((function(t,c){return 0===c&&e.conclusion.sujetos.length>1?"".concat(t):c===e.conclusion.sujetos.length-1?"".concat(t,")"):void 0}))+"}"})})}))})]})]})},q=function(){return Object(T.jsxs)(x.a,{children:[Object(T.jsx)(J,{}),Object(T.jsx)("div",{children:Object(T.jsxs)(g.d,{children:[Object(T.jsx)(g.b,{exact:!0,path:"/facts",component:U}),Object(T.jsx)(g.b,{path:"/rules",component:F}),Object(T.jsx)(g.b,{path:"/list/rules",component:X}),Object(T.jsx)(g.b,{path:"/list/facts",component:B}),Object(T.jsx)(g.b,{path:"/checks",component:L}),Object(T.jsx)(g.a,{to:"/facts"})]})})]})},z=function(){return Object(T.jsx)(r.a,{store:m,children:Object(T.jsx)(q,{})})};a.a.render(Object(T.jsx)(z,{}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.ee187f56.chunk.js.map